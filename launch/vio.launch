<launch>

  <!-- camera settings -->
  <arg name="exposure_duo" default="100" />
  <arg name="gain_duo" default="100" />
  <arg name="FPS_duo" default="100" />
  <arg name="resolution_width_duo" default="320" />
  <arg name="resolution_height_duo" default="240" />
  <arg name="lense_type" default="FS3028B13M8" />
  <arg name="vision_subsample" default="2" />

  <!-- noise parameters -->
  <arg name="image_noise" default="1" />
  <arg name="acc_noise" default="100" />
  <arg name="gyro_noise" default="0.1" />
  <arg name="gyro_bias_noise" default="0.00000" />
  <arg name="acc_bias_noise" default="0.000" />
  <arg name="inv_depth_initial_unc" default="0.001" />
  <arg name="gyro_bias_initial_unc" default="[0.1, 0.1, 0.1]" />
  <arg name="acc_bias_initial_unc" default="[0, 0, 0]" />

  <!-- vio parameters -->
  <arg name="fixed_feature" default="0" />
  <arg name="max_ekf_iterations" default="3" />
  <arg name="delayed_initiazation" default="0" />
  <arg name="mono" default="0" />
  <arg name="RANSAC" default="1" />
  <arg name="full_stereo" default="0" />

  <!-- controller gains -->
  <arg name="Kp_xy" default="1" />
  <arg name="Ki_xy" default="0" />
  <arg name="Kd_xy" default="1.4" />
  <arg name="Kp_z" default="1" />
  <arg name="Ki_z" default="0" />
  <arg name="Kd_z" default="1.4" />
  <arg name="Kp_yaw" default="1" />
  <arg name="Kd_yaw" default="1" />
  <arg name="i_lim" default="10" />

  <arg name="show_camera_image" default="1" />
  <arg name="visualization_freq" default="30" />
  <arg name="image_visualization_delay" default="1" />

  <node name="vio_ros" pkg="vio_ros" type="vio_ros_node" output="screen">
    <!-- noise parameters -->
    <param name="noise_acc" type="double" value="$(arg acc_noise)" />
    <param name="noise_acc_bias" type="double" value="$(arg acc_bias_noise)" />
    <param name="noise_gyro" type="double" value="$(arg gyro_noise)" />
    <param name="noise_gyro_bias" type="double" value="$(arg gyro_bias_noise)" />
    <param name="noise_image" type="double" value="$(arg image_noise)" />
    <param name="noise_inv_depth_initial_unc" type="double" value="$(arg inv_depth_initial_unc)" />
    <rosparam param="noise_gyro_bias_initial_unc" subst_value="True">$(arg gyro_bias_initial_unc) </rosparam>
    <rosparam param="noise_acc_bias_initial_unc" subst_value="True">$(arg acc_bias_initial_unc) </rosparam>

    <!-- vio parameters -->
    <param name="vio_fixed_feature" type="bool" value="$(arg fixed_feature)" />
    <param name="vio_max_ekf_iterations" type="int" value="$(arg max_ekf_iterations)" />
    <param name="vio_delayed_initiazation" type="bool" value="$(arg delayed_initiazation)" />
    <param name="vio_mono" type="bool" value="$(arg mono)" />
    <param name="vio_RANSAC" type="bool" value="$(arg RANSAC)" />
    <param name="vio_full_stereo" type="bool" value="$(arg full_stereo)" />

    <!-- controller gains -->
    <param name="ctrl_Kp_xy" type="double" value="$(arg Kp_xy)" />
    <param name="ctrl_Ki_xy" type="double" value="$(arg Ki_xy)" />
    <param name="ctrl_Kd_xy" type="double" value="$(arg Kd_xy)" />
    <param name="ctrl_Kp_z" type="double" value="$(arg Kp_z)" />
    <param name="ctrl_Ki_z" type="double" value="$(arg Ki_z)" />
    <param name="ctrl_Kd_z" type="double" value="$(arg Kd_z)" />
    <param name="ctrl_Kp_yaw" type="double" value="$(arg Kp_yaw)" />
    <param name="ctrl_Kd_yaw" type="double" value="$(arg Kd_yaw)" />
    <param name="ctrl_i_lim" type="double" value="$(arg i_lim)" />

    <!-- camera settings -->
    <param name="cam_FPS_duo" type="double" value="$(arg FPS_duo)" />
    <param name="cam_lense_type" type="string" value="$(arg lense_type)" />
    <param name="cam_resolution_width" type="int" value="$(arg resolution_width_duo)" />
    <param name="cam_resolution_height" type="int" value="$(arg resolution_height_duo)" />
    <param name="cam_vision_subsample" type="int" value="$(arg vision_subsample)" />

    <!-- other parameters -->
    <param name="show_camera_image" type="bool" value="$(arg show_camera_image)" />
    <param name="visualization_freq" type="double" value="$(arg visualization_freq)" />
    <param name="image_visualization_delay" type="double" value="$(arg image_visualization_delay)" />

  </node>

</launch>
