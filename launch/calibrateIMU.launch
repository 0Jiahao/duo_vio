<launch>
  <!-- camera settings -->
  <arg name="FPS"                       default="50" />             <!-- Camera framerate -->
  <arg name="resolution_width"          default="320" />            <!-- Camera resolution width -->
  <arg name="resolution_height"         default="240" />            <!-- Camera resolution height -->
  <arg name="lense_type"                default="FS3028B13M8" />    <!-- Name of camera lense (used to find calibration) -->
  <arg name="vision_subsample"          default="1" />              <!-- Update estimate with images only every x vio_sensor message -->

  <!-- noise parameters -->
  <arg name="image_noise"               default="1" />              <!-- Measurement noise of features -->
  <arg name="acc_noise"                 default="10" />             <!-- Processnoise of accelerometer -->
  <arg name="gyro_noise"                default="0.01" />           <!-- Process Noise of gyroscope -->
  <arg name="gyro_bias_noise"           default="0.001" />          <!-- Process noise of gyro bias random walk -->
  <arg name="acc_bias_noise"            default="0.001" />          <!-- Process noise of acc bias random walk -->
  <arg name="inv_depth_initial_unc"     default="0.001" />          <!-- Initial inverse depth uncertainty (depends on baseline, resolution, and focal length) -->
  <arg name="gyro_bias_initial_unc"     default="[0.1, 0.1, 0.1]" /> <!-- Initial value for gyro bias uncertainty -->
  <arg name="acc_bias_initial_unc"      default="[0.1, 0.1, 0.1]" /> <!-- Initial value for accelerometer bias uncertainty -->
  <arg name="imu_smoothing_factor"      default="0.8" />            <!-- IMU lowpass filter. 1.0 to disable smoothing -->

  <!-- duo camera node -->
  <include file="$(find duo3d_ros)/launch/duo.launch">
    <arg name="FPS"                     value="$(arg FPS)" />
    <arg name="resolution_width"        value="$(arg resolution_width)" />
    <arg name="resolution_height"       value="$(arg resolution_height)" />
  </include>

 <!-- visual odometry node --> 
 <include file="$(find vio_ros)/launch/vio.launch">
    <arg name="resolution_width"        value="$(arg resolution_width)" />
    <arg name="resolution_height"       value="$(arg resolution_height)" />
    <arg name="FPS"                     value="$(arg FPS)" />
    <arg name="acc_noise"               value="$(arg acc_noise)" />
    <arg name="gyro_noise"              value="$(arg gyro_noise)" />
    <arg name="gyro_bias_noise"         value="$(arg gyro_bias_noise)" />
    <arg name="acc_bias_noise"          value="$(arg acc_bias_noise)" />
    <arg name="inv_depth_initial_unc"   value="$(arg inv_depth_initial_unc)" />
    <arg name="gyro_bias_initial_unc"   value="$(arg gyro_bias_initial_unc)" />
    <arg name="acc_bias_initial_unc"    value="$(arg acc_bias_initial_unc)" />
    <arg name="imu_smoothing_factor"    value="$(arg imu_smoothing_factor)" />
  </include>

  <node name="set_cpu" pkg="vio_ros" type="set_cpu.py" />

</launch>
